<?xml version="1.0"?>

<!-- ~ Hibernate, Relational Persistence for Idiomatic Java ~ ~ License: GNU Lesser General Public License (LGPL), version 2.1 or later. ~ See the lgpl.txt file in the root directory or <http://www.gnu.org/licenses/lgpl-2.1.html>. -->

<!DOCTYPE hibernate-mapping SYSTEM "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">

<hibernate-mapping>


<class table="site" name="fr.mb.projet.bean.spot.Site">


<id name="id" column="site_id">

<generator class="identity"/>

</id>

<property name="nom" column="nom"/>
<property name="description" column="description"/>
<property name="acces" column="acces"/>
<property name="image" column="image"/>
<property name="nbSecteur" column="nb_secteur"/>
<property name="nbVoie" column="nb_voie"/>
<property name="dateAjout" column="date_ajout"/>

<many-to-one name="situation" class="fr.mb.projet.bean.detail.Situation" column="situation_id" fetch="select" cascade="save-update"/>
<many-to-one name="coordonnee" class="fr.mb.projet.bean.detail.Coordonnee" column="coordonnee_id" fetch="select" cascade="save-update"/>

<set name="listeVoie"  table="voie" >
        <key column="site_id"/>
        <one-to-many class="fr.mb.projet.bean.spot.Voie" />
</set>

<set name="listeSecteur" table="secteur">
        <key column="site_id" />
        <one-to-many class="fr.mb.projet.bean.spot.Secteur"/>
</set>

<set name="listeAltitude" table="altitude">
        <key column="site_id"/>
        <one-to-many class="fr.mb.projet.bean.detail.Altitude"/>
</set>

<set name="listeOrientation" table="info_orientation">
        <key column="site_id"/>
        <many-to-many column="orientation_id" class="fr.mb.projet.bean.detail.Orientation"/>
</set>

<set name="listeCotation" table="cotation">
        <key column="site_id"/>
        <one-to-many class="fr.mb.projet.bean.detail.Cotation"/>
</set>



</class>

</hibernate-mapping>